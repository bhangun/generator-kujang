import 'package:flutter/material.dart';
import 'package:flutter_riverpod/flutter_riverpod.dart';
import 'package:<%= appsName %>/bloc/auth/auth_bloc.dart';
import 'package:<%= appsName %>/widgets/button_widget.dart';
import 'package:<%= appsName %>/widgets/drawer_widget.dart';

import '../widgets/bottom_bar_widget.dart';
import '../widgets/appbar_widget.dart';

class HomeScreen extends ConsumerStatefulWidget {
  const HomeScreen({Key? key}) : super(key: key);

  @override
  _Homepagestate createState() => _Homepagestate();
}

class _Homepagestate extends ConsumerState<HomeScreen> {
  final _homeKey = GlobalKey<ScaffoldState>();

  final _title = 'Home';
  AuthBloc _authBloc = AuthBloc();

  @override
  void initState() {
    super.initState();
  }

  @override
  void dispose() {
    super.dispose();
  }

  @override
  Widget build(BuildContext context) {
    _authBloc = ref.watch(authBloc);

    return Scaffold(
      key: _homeKey,
      appBar: KAppBar(
        title: _title,
        onLogout: () => {},
      ),
      body: _body(),
      drawer: KDrawer(firstName: _authBloc.user!.firstName,
      email: _authBloc.user!.email,),
      bottomNavigationBar: const KBottomBar(),
    );
  }

  _body() {
    return Stack(
      children: const [KButton(label: 'coba')],
    );
  }
}
