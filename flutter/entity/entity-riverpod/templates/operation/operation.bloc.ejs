<%_

  const entityClass = _.capitalize(method.operationId)
  const entityInstance = method.operationId
  const dartFields = method.properties

  const index = {};
  let hasUserRelationship = false;
  const id = {};
  var i=0;


_%>
import 'dart:convert';

import 'package:flutter/material.dart';
import 'package:flutter/services.dart';
import 'package:flutter_riverpod/flutter_riverpod.dart';

import 'package:<%= appsName %>/services/navigation.dart';
import 'package:<%= appsName %>/services/apps_services.dart';
import 'package:<%= appsName %>/modules/<%= entityInstance %>/services/<%= entityInstance %>_routes.dart';
import 'package:<%= appsName %>/modules/<%= entityInstance %>/services/<%= entityInstance %>_services.dart';
import 'package:<%= appsName %>/modules/<%= entityInstance %>/models/<%= entityInstance %>.dart';
<% for (idx in dartFields) { %><% if (dartFields[idx]['desc'] == 'relationship') {%>
import '../../<%= idx %>/models/<%= idx %>.dart'; <%}}%>

final <%= entityInstance %>Bloc = ChangeNotifierProvider<<%= entityClass %>Bloc>((ref) => <%= entityClass %>Bloc());

/// <%= info.title %>
/// @version <%= info.version %>
class <%= entityClass %>Bloc extends ChangeNotifier {
  /// <%= item  %> 
<% for (i in services) { if(services[i].serviceName == entityInstance) {%>
  String formTitle = '<%= services[i].desc %>';
  bool success = false;
  bool loading = false;

  save(){}
  
  /// <%= services[i].summary %>
  /// <%= services[i].desc %>
  Future<% if(services[i].responseType && services[i].responseType != 'UnknownObject' && services[i].responseType != 'void'){%><<%= services[i].responseType %>><%}%> <%= services[i].serviceName %>(<%= services[i].parametersString %>) async { 
    var response = await AppsServices.<%= services[i].serviceName %>('<%= services[i].path %><%- services[i].query %>'<%- services[i].jsonParam %>); 
  }
<% }} %>
}
